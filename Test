javascript:(function(){
  let url = prompt("Enter a link to open in about:blank:");
  if(!url) return;

  // Auto-add https:// if missing
  if(!/^https?:\/\//i.test(url)){
    url = "https://" + url;
  }

  const title = localStorage.getItem("tabTitle") || "Google Docs";
  const icon = localStorage.getItem("tabIcon") || "https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico";

  const win = window.open();
  if(!win){
    alert("Popup blocked. Allow popups for this site.");
    return;
  }

  win.document.write(`
    <!DOCTYPE html>
    <html>
    <head>
      <title>${title}</title>
      <link rel="icon" href="${icon}">
      <style>
        html,body {
          margin:0;
          padding:0;
          width:100%;
          height:100%;
          background:#000;
          overflow:hidden;
        }
        iframe {
          border:none;
          width:100%;
          height:100%;
        }
      </style>
    </head>
    <body>
      <iframe src="${url}" allowfullscreen referrerpolicy="no-referrer"></iframe>
    </body>
    </html>
  `);

  win.document.close();
})();
